{
    "url": "https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdome-plugin-with-circleci",
    "title": "Appdome | How to Secure Android & iOS Apps in CircleCI Pipelines",
    "content": "Appdome | How to Secure Android & iOS Apps in CircleCI Pipelines\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n![](https://pubads.g.doubleclick.net/activity;xsp=4798079;ord=1?)\n\n\n\n ![](https://px.ads.linkedin.com/collect/?pid=3167484&fmt=gif)\n\n\n\n\nMenu\n\n[Sign In](https://fusion.appdome.com/login)\n\n[![Appdome Logo](https://www.appdome.com/wp-content/uploads/elementor/thumbs/appdome-logo-r88bnmyou58sjra0z25z48awn6epdjpr0vb010dhxc.png \"Appdome Logo\")](/)\n\n[How to](https://www.appdome.com/how-to/) \n > \n[DevSecOps Automation in CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/)\n > \n[Mobile App Security & Anti-Fraud Inside CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/)\n > \n[How to Secure Android & iOS Apps in CircleCI Pipelines](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdome-plugin-with-circleci/)\n\n# How to Secure Android & iOS Apps in CircleCI Pipelines\n\nLast updated January 6, 2025 by Appdome\n\nAppdome\u2019s Build-2Secure Orb for CircleCI is an out-of-the-box CircleCI integration, making it easy for mobile developers to secure Android & iOS apps in CircleCI pipelines. In addition, you can automate the build, signing, and certification of security, anti-fraud, and other protection in Android & iOS apps in CircleCI pipelines. No code and no SDKs are required.\n\nThe purpose of Appdome\u2019s Build-2Secure Org for CircleCI is to streamline and accelerate cyber and anti-fraud delivery in CI/CD pipelines. To do this, the Build-2Secure Orb for CircleCI automates three important steps in delivering more secure mobile applications to your users quickly:\n\n(1) Building the selected app-level protections into mobile apps.\n\n(2) Code signing the Appdome-protected mobile app.\n\n(3) Certifying the defenses inside each Appdome-protected mobile app.\n\nThe Appdome Build-2Secure Orb for CircleCI delivers [Certified Secure](https://www.appdome.com/certified-secure-mobile-devsecops-certification/)\u2122 mobile app security, anti-fraud, anti-malware, mobile anti-bot, and other cyber defense updates in mobile apps on [Appdome\u2019s Cyber Defense Automation Platform](https://www.appdome.com/devsecops-cicd-system/). Use this Orb for CircleCI as a stand-alone DevSecOps integration or in combination with other DevSecOps integrations in your CI/CD pipeline.\n\nFor more general information on this Orb, see [Orb Authoring Process](https://circleci.com/docs/orb-author/) on the CircleCI website.\n\nHere are the step-by-step instructions on using the Appdome Build-2Secure Orb for CircleCI.\n\n## Prerequisites for using Appdome\u2019s Orb for CircleCI\n\nBefore you use Appdome\u2019s Orb for CircleCI, there are a few things you\u2019ll need to have:\n\n* An [Appdome SRM account](https://www.appdome.com/devsecops-release-management/)\n* [Appdome Build-2Secure API token](https://apis.appdome.com/docs/getting-started#getting-and-resetting-your-api-token)\n* [Fusion Set ID](https://apis.appdome.com/docs/getting-started#getting-a-fusion-sets-id)\n* A [CircleCI](https://circleci.com/vcs-authorize/) account\n* Review [Network Requirements](https://www.appdome.com/how-to/appsec-release-orchestration/mobile-appsec-cicd/network-endpoints-requirements-for-appdome/) for Using Appdome Build-2Secure API\n\n## Step 1: Installing the Build-2Secure Orb for CircleCI\n\nEdit your **.circleci/config.yml** favorite IDE with [the CircleCI in-app configuration editor.](https://circleci.com/docs/config-editor/)\n\n1. Ensure that the CircleCI version, which is displayed at the top of your .circleci/config.yml, is 2.1.\n\n   ```\n   version: 2.1\n   ```\n2. Add the **orbs** block (stanza) below your version and install Appdome Build-2secure in CircleCI by adding the following to your **.circleci/config.yml**, where X.Y.Z represents [the version number](https://github.com/Appdome/appdome-orb/releases); for example, 2.3.1.\n\n   ```\n   orbs:\r\n     build-2secure: appdome/build-2secure@X.Y.Z\n   ```\n\n   Alternatively, set the version to **volatile**\u00a0to get the latest version.\n\n   ```\n   orbs:\r\n     build-2secure: appdome/build-2secure@volatile>\n   ```\n\n## Step 2: Configuring the Build-2Secure Orb for CircleCI\n\nIn order to use Appdome\u2019s Build-2Secure Orb, it\u2019s necessary to obtain the Appdome Build-2Secure API Token. For more information on how to copy the API token, please refer to the article [Getting and resetting your API Token.](https://apis.appdome.com/docs/getting-started#getting-and-resetting-your-api-token) Once you have copied the API token, add it as an **environment variable** in CircleCI.\n\n1. Navigate to the **Project Settings** section on CircleCI\u2019s platform.  \n   ![Appdome Orb for CircleCI - Project Settings button](https://www.appdome.com/wp-content/uploads/2023/01/ProjectSettingsButton-650x67.png)\n2. From the menu on the left,\n   * Click **Environment Variables**\n   * Click **Add Environment Variable**.  \n     ![Add Environment Variable.](https://www.appdome.com/wp-content/uploads/2023/01/Screenshot-2023-11-15-at-13.31.png)\n3. Use the App Environment Variable dialog box to add the Appdome Build-2Secure API Token variable by entering the following values:  \n   Name: **APPDOME\\_API\\_TOKEN**  \n   Value: <YOUR\\_APPDOME\\_TOKEN>  \n   ![Add Environment Variable](https://www.appdome.com/wp-content/uploads/2023/01/add-environment-variable.png)\n4. In addition to your **APPDOME\\_API\\_TOKEN**, make sure to insert your iOS or Android **[Fusion Set ID](https://apis.appdome.com/docs/getting-started#getting-a-fusion-sets-id)** to CircleCI\u2019s **[Environment Variables](https://circleci.com/docs/set-environment-variable/#set-an-environment-variable-in-a-project):**\n   * For iOS apps, add the following variables:  \n     Name: **FUSION\\_SET\\_ID\\_IOS**  \n     Value: <Appdome\\_Fusion\\_Set\\_ID\\_For\\_iOS>\n   * For Android apps, add the following variables:  \n     Name: **FUSION\\_SET\\_ID\\_ANDROID**  \n     Value: <Appdome\\_Fusion\\_Set\\_ID\\_For\\_Android>\n5. Add Appdome Build-2Secure to your job by calling it from the **jobs** block of your **.circleci/config.yml** file, as shown in the base template below.  \n   For additional usage examples, see the [Appdome page on CircleCI website](https://circleci.com/developer/orbs/orb/appdome/build-2secure#usage-examples).\n\n   ```\n   workflows:\r\n   \t Appdome fusion:\r\n   \t \t jobs:\r\n   \t \t  - build-2secure/appdome_runner:\r\n   \t \t   runner: <type_of_run> \r\n   \t \t   team-id: <your_team_ID> - remove this line when working on personal workspace. \r\n   \t \t   appFile: <remote_app_location_of_the_non-protected_app> \r\n   \t \t   output: <secured_app_file_name> \r\n   \t \t   sign-overrides: <path_to_remote_JSON_download_file_location> \r\n   \t \t   google-play-signing: <true_or_false> - (For Android only!). \r\n   \t \t   build-with-logs: <true_or_false>\r\n                      second-output: <true_or_false>\r\n                      build-to-test: <vendor_name_to_testing(\"BITBAR\" or \"BROWSERSTACK\" or \"LAMBDATEST\" or \"SAUCELABS\")>\n   ```\n6. In the code block below, set the following variables with the parameter values as described below:  \n   ****6.1 runner****Any of the following options, in accordance with the build platform you need and the sign type:\n   * **ANDROID\\_AUTO\\_SIGNING**For more information, follow the instructions in the article:  \n     [How to Code Sign Secured Android Apps in DevSecOps Build System](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/automated-signing-secured-android-ios/automatic-code-signing-for-secured-android-apps-on-appdome/?__hstc=267077713.a252d6bafcc2ff9ea15f20f0e653391d.1692615574684.1700033971052.1700036882975.212&__hssc=267077713.9.1700036882975&__hsfp=2089807795).\n   * **ANDROID\\_PRIVATE\\_SIGNING**For more information, follow the instructions in the article:  \n     [How To Privately Code Sign Sealed Android Apps using DevSecOps Build System](https://www.appdome.com/how-to/appsec-release-orchestration/code-signing-protected-android-ios/privately-code-sign-sealed-android-apps-using-devsecops-build-system/).\n   * **ANDROID\\_AUTO\\_DEV\\_SIGNING**For more information, follow the instructions in the article:  \n     [How to Automate Secure Android App Code Signing in DevOps CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/automated-signing-secured-android-ios/sign-secured-android-apps-using-a-local-appdome-supplied-script/?__hstc=267077713.a252d6bafcc2ff9ea15f20f0e653391d.1692615574684.1700033971052.1700036882975.212&__hssc=267077713.10.1700036882975&__hsfp=2089807795).\n   * **IOS\\_AUTO\\_SIGNING**\u00a0For more information, follow the instructions in the article:  \n     [How to Use Code Sign on Mac for Secured iOS Apps](https://www.appdome.com/how-to/appsec-release-orchestration/code-signing-protected-android-ios/use-code-sign-on-mac-for-secured-ios-apps/).\n   * **IOS\\_PRIVATE\\_SIGNING**For more information, follow the instructions in the article:  \n     [How to Privately Code Sign Sealed iOS Apps using DevSecOps Build System](https://www.appdome.com/how-to/appsec-release-orchestration/code-signing-protected-android-ios/privately-code-sign-sealed-ios-apps-using-devsecops-build-system/).\n   * **IOS\\_AUTO\\_DEV\\_SIGNING**\u00a0For more information, follow the instructions in the article:  \n     [How to Automate Secure iOS App Code Signing in DevOps CI/CD.](https://www.appdome.com/how-to/appsec-release-orchestration/code-signing-protected-android-ios/automate-secure-ios-app-code-signing-in-devops-cicd/)\n   * ****6.2 team-id****Insert your [team-id](https://apis.appdome.com/docs/getting-started#getting-a-teams-id). This line is optional and may be removed when working on a personal workspace.\n   * ****6.3 appFile****Please provide the remote address of the non-protected application. For example, \u201chttps://[URL\\_of\\_your\\_non\\_protected\\_app]\u201d.\n   * ****6.4 output****The requested name of the secured application is: appdome\\_secured\\_app.apk/.aab/ipa\n   * ****6.5 sign-overrides****Include this parameter with the path to a JSON file only if you want to override signing with a custom JSON file. Otherwise, remove this line.\n   * ****6.6 google-play-signing****For Android only. Either leave the default value **False** or change the value to **True** if you use Google Play App Signing to allow developers to offload the signing of their release APKs onto Google, change the value to **True**\n\n7. Second Output (.aab apps only): If you\u2019d like to use this option, change the code to \u2018true\u2019 and set a path for the second .apk file to be downloaded. Specify a full path for the application. The second output will be saved under the name: \u201c**Appdome\\_Universal\\_App.apk**\u201d.\n\nIf you\u2019d like to continue working with the universal apk in the next job, you must use this path to access the universal apk:\n\n```\n$HOME\r\n/appdome_workspace/appdome_outputs/Appdome_Universal_App.apk\n```\n\n**Note:** this option is relevant only for apps signed with Appdome Auto Sign or Private Sign. Not applicable for Auto-Dev Private Signed apps.\n\n8. Build to test: allows automated testing of Appdome Secured Apps in standard DevOps testing suites.  \nDo not use this service for individual device testing.  \nSpecify the supported Testing Service: \u201cBITBAR\u201d,\u201dBROWSERSTACK\u201d,\u201dLAMBDATEST\u201d or \u201cSAUCELABS\u201d  \n**Note:** for iOS \u2013 only Saucelabs is supported.\n\n9. For each type of sign, you must add the following **environment variables** as explained above.  \n **Note**: Certain sign options require files. The file must first be encoded using the base64 method, and the output of this process must be stored within the specified environment variable, as described in the section \u201c**Adding Files as Environment Variables Using Base64** **Encoding**\u201d below.\n\n1. 1. 1. 1. 1. **ANDROID\\_AUTO\\_SIGNING**\n               * Name: **KEYSTORE\\_FILE**Value: <Keystore\\_base64\\_File>\n               * Name: **KEYSTORE\\_PASSWORD**Value: <Your\\_Keystore\\_Password>\n               * Name: **KEYSTORE\\_ALIAS**Value: <Your\\_Keystore\\_Alias\\_Name>\n               * Name: **KEYSTORE\\_KEY\\_PASSWORD**Value: <Your\\_Keystore\\_Key\\_Password>\n            2. **ANDROID\\_PRIVATE\\_SIGNING**\n               * Name: **SIGN\\_FINGERPRINT**Value: <Your\\_SHA1\\_Fingerprint>\n            3. **ANDROID\\_AUTO\\_DEV\\_SIGNING**\n               * Name: **SIGN\\_FINGERPRINT**Value: <Your\\_SHA1\\_Fingerprint>\n            4. **IOS\\_AUTO\\_SIGNING**\n               * Name: **KEYSTORE\\_P12\\_FILE**Value: <P12\\_Keystore\\_base64\\_File>\n               * Name: **P12\\_PASSWORD**Value: <Your\\_P12\\_Keystore\\_Password>\n               * Name: **MOBILE\\_PROVISION\\_PROFILE\\_FILE**  \n                 Value: <Mobile\\_Provision\\_profile\\_base64\\_file>\n               * Name: **ENTITLEMENTS\\_FILE**Value: <Entitlement\\_base64\\_file>\n            5. **IOS\\_PRIVATE\\_SIGNING**\n               * Name: **MOBILE\\_PROVISION\\_PROFILE\\_FILE**Value: <Mobile\\_Provision\\_profile\\_base64\\_file>\n            6. **IOS\\_AUTO\\_DEV\\_SIGNING**\n               * Name: **MOBILE\\_PROVISION\\_PROFILE\\_FILE**Value: <Mobile\\_Provision\\_profile\\_base64\\_file>\n               * Name: **ENTITLEMENTS\\_FILE**Value: <Entitlement\\_base64\\_file>\n\n\n\n\n\n\n\n### **Continuous Integration with** Orb\n\nIf Appdome is the first job in your workflow, you have the option to give the Appdome orb as an input URL link for an application to protect with Appdome. In the appFile input:\n\n```\n- build-2secure/appdome_runner:\r\n       runner: <type_of_run> \r\n       team-id: <your_team_ID> - remove this line when working on personal workspace.\n```\n\n**appFile: <remote\\_app\\_location\\_of\\_the\\_non-protected\\_app>**\n\n```\n       output: <secured_app_file_name> \r\n       sign-overrides: <path_to_remote_JSON_download_file_location> \r\n       google-play-signing: <true_or_false> - (For Android only!). \r\n       build-with-logs: <true_or_false>\r\n       second-output: <true_or_false>\r\n       build-to-test: <vendor_name_to_testing(\"BITBAR\" or \"BROWSERSTACK\" or \"LAMBDATEST\" or \"SAUCELABS\")>\r\n```\n\nIf Appdome orb is after the job that builds the application that Appdome will protect, the workflow is supposed to look like:\n\n![33](https://www.appdome.com/wp-content/uploads/2023/01/33.png)\n\n```\nworkflows:\r\n  main_workflow:\r\n    jobs:\r\n      - build\r\n      - build2secure/appdome_runner:\r\n          team-id:<YOUR_TEAM_ID>\r\n          name: <NAME_FOR_THE_JOB>\r\n          runner: <TYPE_OF_RUN>\r\n          appFile: <FULL_OR_RELATIVE_PATH_TO_THE_APP>\r\n          requires:\r\n            - build\r\n```\n\nIn order to share with Appdome orb your built application from the first (build job) what you have to do is to add to the build job the step \u201c**[persist\\_to\\_workspace](https://circleci.com/docs/configuration-reference/#persisttoworkspace)**\u201d:\n\n```\n# Persist the specified paths (workspace/built-app-location) into the workspace for use in appdome orb job.\r\n- persist_to_workspace: \r\n\t# Must be an absolute path, or relative path from working_directory. This is a directory in the execution \r\n\t# environment which is taken to be the root directory of the workspace.\r\n \troot: workspace \r\n\t# Must be relative path from root \r\n\tpaths: - <relative_path_from_root_to_the_built_app>\r\n```\n\nIf the built application location (after the build job has built it) is \u201cappdome\\_android\\_sample/build/outputs/apk/debug/appdome\\_android\\_sample-debug.apk\u201d after the commands that build the app in the first job, add the \u201c**[persist\\_to\\_workspace](https://circleci.com/docs/configuration-reference/#persisttoworkspace)**\u201d step as follows:\n\n```\n  - persist_to_workspace:\r\n          # Must be absolute path or relative path from working_directory\r\n          root: .\r\n          paths: appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\r\n```\n\nThe build job for the app should be set up as follows:\n\n```\njobs:\r\n    \r\n  build:\r\n    docker:\r\n      - image: circleci/android:api-25-alpha\r\n    environment:\r\n      JVM_OPTS: -Xmx3200m\r\n    steps:\r\n\r\n      - checkout\r\n      - run:\r\n          name: Download Dependencies\r\n          command: ./gradlew androidDependencies\r\n      - save_cache:\r\n          paths:\r\n            - ~/.gradle\r\n          key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"appdome_android_sample/build.gradle\" }}\r\n\r\n      # Generate apk\r\n      - run: ./gradlew assembleDebug\r\n\r\n      - persist_to_workspace:\r\n          # Must be absolute path or relative path from working_directory\r\n          root: .\r\n          paths:\r\n            appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\r\n      - store_artifacts:\r\n            path: ./appdome_android_sample/build/outputs/apk/debug\r\n            destination: outputs\r\n```\n\nConfigure the Appdome Orb Configuration as follows:\n\n```\nworkflows:\r\n  main_workflow:\r\n    jobs:\r\n      - build\r\n      - build2secure/appdome_runner:\r\n          team-id:<YOUR_TEAM_ID>\r\n          name: \"appdome_runner\"\r\n          runner: \"ANDROID_AUTO_SIGNING\"\r\n          appFile: \"appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\"\r\n          requires:\r\n            - build\r\n```\n\nIf Appdome\u2019s orb is the last job in your configuration, you can find the outputs under the \u201cArtifacts\u201d tab in the CircleCI web app. To download the artifacts, you can use curl by following the instructions provided in the article: [Downloading all artifacts for a build on CircleCI](https://circleci.com/docs/artifacts/#downloading-all-artifacts-for-a-build-on-circleci) or [**Access uploaded artifact URL in job.**](https://support.circleci.com/hc/en-us/articles/360045457592-Access-uploaded-artifact-URL-in-job)\n\nIf Appdome is not the last job in your CircleCI configuration, you can continue working with the output of Appdome using the step \u00a0[**attach\\_workspace**](https://circleci.com/docs/configuration-reference/#attachworkspace)\u00a0as follows:\n\n![33](https://www.appdome.com/wp-content/uploads/2023/01/33-1.png)\n\n```\nsteps: \r\n   - attach_workspace: \r\n       at: your_working_directory/appdome_workspace/\r\n```\n\nMake sure to use your\\_working\\_directory /appdome\\_workspace/ as the path.  \nTo access the protected application as an input, you must use the path:\n\nPath: **\u201cWorking\\_directory /appdome\\_workspace/appdome\\_outputs/<output\\_name>.apk/.aab/.ipa.\u201d**  \nThis path will lead you to the protected application.\n\n\u201cworking\\_directory/appdome\\_workspace/appdome\\_outputs/<output\\_name>.apk/.aab/.ipa.\u201d\n\nFor example, if you want to view the protected app from another job, check its size and copy it to your working directory(root). Create a job that executes these commands.\n\n```\n      docker:\r\n        - image: circleci/android:api-25-alpha\r\n      environment:\r\n        JVM_OPTS: -Xmx3200m\r\n      steps:\r\n        - checkout\r\n        - attach_workspace:\r\n            at: appdome_workspace\r\n        - run:\r\n            name: Check secure app\r\n            command: |\r\n              ls -la appdome_workspace/appdome_outputs/\r\n              du -sh appdome_workspace/appdome_outputs/Appdome_Secured_App.apk\r\n              cp -v appdome_workspace/appdome_outputs/Appdome_Secured_App.apk .\r\n```\n\nYour workflow should look as follows:\n\n```\nworkflows:\r\n  main_workflow:\r\n    jobs:\r\n      - build\r\n      - build2secure/appdome_runner:\r\n          team-id: <YOUR_TEAM_ID>\r\n          name: \"appdome_runner\"\r\n          runner: \"ANDROID_AUTO_SIGNING\"\r\n          appFile: \"appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\"\r\n          requires:\r\n            - build\r\n      - deploy:\r\n          name: deploy\r\n          requires:\r\n            - appdome_runner\r\n```\n\nThe output should be as follows:\n\n![Check Secure App](https://www.appdome.com/wp-content/uploads/2023/01/check-secure-app-1.png)\n\nIf an output name isn\u2019t inserted by the user for the application, then the default name will be Appdome\\_secured\\_app.apk/ipa/aab  \nIf you want to work on your next job in CircleCI with the Appdome-protected app, configure your next job with the following parameters:\n\n```\njobs:\r\n  downstream:\r\n    executor: my-executor\r\n    steps:\r\n      - attach_workspace:\r\n          at: ~/appdome_workspace/\r\n      - run: |\r\n          export APPDOME_SECURED_APP=$(ls $HOME/appdome_workspace/appdome_outputs/*appdome_secured_app*)\r\n```\n\n**Note:** If the user does not provide an output name, the default name \u2018Appdome\\_secured\\_app\u2019 will be used.\n\nFull example for CircleCi config with the Appdome orb:\n\n```\nversion: 2.1\r\n\r\norbs:\r\n  \tbuild2secure: appdome/build-2secure@1.1.6\r\njobs:\r\n    \r\n  build:\r\n    docker:\r\n      - image: circleci/android:api-25-alpha\r\n    environment:\r\n      JVM_OPTS: -Xmx3200m\r\n    steps:\r\n\r\n      - checkout\r\n      - restore_cache:\r\n          key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"appdome_android_sample/build.gradle\" }}\r\n      - run:\r\n          name: Download Dependencies\r\n          command: ./gradlew androidDependencies\r\n      - save_cache:\r\n          paths:\r\n            - ~/.gradle\r\n          key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"appdome_android_sample/build.gradle\" }}\r\n\r\n      # Generate apk\r\n      - run: ./gradlew assembleDebug\r\n\r\n      - persist_to_workspace:\r\n          # Must be absolute path or relative path from working_directory\r\n          root: .\r\n          paths:\r\n            appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\r\n      - store_artifacts:\r\n            path: ./appdome_android_sample/build/outputs/apk/debug\r\n            destination: outputs\r\n  deploy:\r\n      docker:\r\n        - image: circleci/android:api-25-alpha\r\n      environment:\r\n        JVM_OPTS: -Xmx3200m\r\n      steps:\r\n        - checkout\r\n        - attach_workspace:\r\n            at: appdome_workspace\r\n        - run:\r\n            name: Check secure app\r\n            command: |\r\n              ls -la appdome_workspace/appdome_outputs/\r\n              du -sh appdome_workspace/appdome_outputs/Appdome_Secured_App.apk\r\n              cp -v appdome_workspace/appdome_outputs/Appdome_Secured_App.apk .\r\n        - restore_cache:\r\n            key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"appdome_android_sample/build.gradle\" }}\r\n\r\n\r\nworkflows:\r\n  main_workflow:\r\n    jobs:\r\n      - build\r\n      - build2secure/appdome_runner:\r\n          team-id:<YOUR_TEAM_ID>\r\n          name: \"appdome_runner\"\r\n          runner: \"ANDROID_AUTO_SIGNING\"\r\n          appFile: \"appdome_android_sample/build/outputs/apk/debug/appdome_android_sample-debug.apk\"\r\n          requires:\r\n            - build\r\n      - deploy:\r\n          name: deploy\r\n          requires:\r\n            - appdome_runner\n```\n\n## Step 3: Build Android & iOS Security with Build-2Secure\n\n[Trigger the pipeline](https://circleci.com/docs/triggers-overview/) that contains the Appdome Build-2Secure job. This job initiates Appdome Build-2Secure which automatically integrates the requested security features into your app based on the Fusion Set ID.\n\n## Step 4: Retrieve DevSecOps Certification with Build-2Secure\n\n1. After the build is complete, you can download the secured app from the **Artifacts** tab in the CircleCI platform.  \n   The following artifacts will be available for download:\n\n![Test Ios Private Sign](https://www.appdome.com/wp-content/uploads/2023/01/test-ios-private-sign.png)\n\nThe name of the secured output app will match the name selected in the output parameter.\n\n## Adding Files as Environment Variables by Using Base64 Encoding\n\n**To add files as environment variables**:\n\n1. Open a terminal.\n2. Encode the requested file with **base64**, and save (paste) it in a temporary text file:\n\n   ```\n   Usage:\tbase64 [-i in_file] [-o out_file]\n   ```\n\n   For example:\n\n   ```\n   base64 -i appdome.keystore -o keystore_base64.txt\n   ```\n3. Copy the contents of the text file into the matching **environment variable,** as shown in the images below.  \n   ![keystore base](https://www.appdome.com/wp-content/uploads/2023/01/Screenshot-2023-11-14-at-14.10.png)![Add Environment Variable.png2](https://www.appdome.com/wp-content/uploads/2023/01/add-environment-variable.png2_.png)\n\n## Related Articles:\n\n* [How to Secure Android & iOS Apps in Bitrise CI/CD Pipelines](https://appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/secure-android-ios-apps-in-bitrise-ci-cd-pipelines/)\n* [How to Secure Android & iOS Apps in GitHub CI/CD Pipelines](https://appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdomes-github-action/)\n* [How to Secure Android & iOS Apps in GitLab CI/CD Pipelines](https://appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdome-build-2secure-in-gitlab/)\n\n## Conclusion\n\nThe description above is designed to help you secure Android and IOS apps in CircleCI CI/CD pipelines. If you have questions about using this Build2Secure step for CircleCI, please send them our way at [support.appdome.com](http://support.appdome.com/) or via the chat window on the Appdome platform.\n\n### Thank you!\n\nThanks for visiting\u00a0[**Appdome**](https://www.appdome.com/?__hstc=79098507.91fc95729d70bf17116f5cc6b5197e82.1679908741342.1683536690686.1683547012267.41&__hssc=79098507.2.1683547012267&__hsfp=1175495804)! Our mission is to secure every app on the planet by making mobile app security easy. We hope we\u2019re living up to the mission with your project.\n\nWant a Demo?\n\nMobile App Security & Anti-Fraud Inside CI/CD\n\n![](https://www.appdome.com/wp-content/uploads/2020/02/Appdome_Team_Photos_Gil_Hartman_BW.jpg)\n\nGilWe're here to help\n\n\n\n\nWe'll get back to you in 24 hours to schedule your demo.\n\n* [Home Page](https://www.appdome.com/)\n* [Dev+Sec Blog](https://www.appdome.com/dev-sec-blog/)\n* [Request A Demo](https://www.appdome.com/request-a-demo/appdome-home/)\n* [Platform](https://www.appdome.com/devsecops-tool-cicd/)\n* [Pricing](https://www.appdome.com/appdome-pricing/)\n* [About](https://www.appdome.com/about/)\n* [Patents](https://www.appdome.com/legal/patents/)\n* [Knowledge Base](https://www.appdome.com/how-to/)\n* [In The News](https://www.appdome.com/in-the-news/)\n* [Careers we\u2019re hiring!](https://www.appdome.com/about/work-at-appdome/)\n* [Terms Of Use](https://www.appdome.com/legal/terms-of-use/)\n* [Press Releases](https://www.appdome.com/press-releases/)\n* [Privacy Policy](https://www.appdome.com/legal/privacy-policy/)\n* [Contact Us](https://www.appdome.com/contact-us/)\n\n\n\n---\n\nREDWOOD CITY OFFICE\n\n* 3 Twin Dolphin Drive,   \n  Suite 375 Redwood City,   \n  CA 94065\n* Phone: [+1.650.567.6100](tel:+16505676100)   \n  Mobile: [+1.844.360.FUSE (3873)](tel:+1844360FUSE (3873))   \n  Email: [info@appdome.com](mailto:info@appdome.com)\n\nISRAEL OFFICE\n\n* 21 HaArba'a Street,\n* Phone: [+97235568332](tel:+97235568332)   \n  Email: [info@appdome.com](mailto:info@appdome.com)\n\nSearch for:\n\nFollow us\n\n\u00a92026 Appdome, Inc. All rights reserved. This Website requires the use of technical cookies and, with your consent, profiling, and third-party analytics to improve your experience.  \n If you continue to use our Website, or by clicking any items of our Website, you agree to this.\n\nWe use cookies to ensure that we give you the best experience on our website.\nIf you continue to use this site we will assume that you are happy with it.\nOk\n\n ![](https://px.ads.linkedin.com/collect/?pid=3167484&fmt=gif) \n\n## Search Appdome Solutions\n\nSearch\n\nSearch\n\n[![mobile app protection best practices](https://www.appdome.com/wp-content/uploads/2026/01/Mobile-App-Protection-Best-Practices-for-Developers-in-2026-170x111.png)](https://www.appdome.com/dev-sec-blog/mobile-app-protection-best-practices-for-developers/)\n\n### [Mobile App Protection Best Practices for Developers in 2026](https://www.appdome.com/dev-sec-blog/mobile-app-protection-best-practices-for-developers/)\n\nMobile app protection best practices for developers in 2026. Learn how to protect apps from AI malware, bots, ATO, and fraud \u2014 automated with Appdome.\n\nJan Sysmans \n\nJanuary 5, 2026\n\n[![Mobile App Attack Vectors](https://www.appdome.com/wp-content/uploads/2026/01/mobile-app-attack-vectors-170x111.png)](https://www.appdome.com/dev-sec-blog/top-mobile-app-attack-vectors/)\n\n### [Top 10 Mobile App Attack Vectors in 2026 And the Defense Architecture Required to Stop Them](https://www.appdome.com/dev-sec-blog/top-mobile-app-attack-vectors/)\n\nAI malware, deepfakes, and automated bots are the top mobile app attack vectors in 2026. Discover how to stop them with Appdome\u2019s defense architecture defense.\n\nJan Sysmans \n\nJanuary 1, 2026\n\n[![G2 Customer Reviews](https://www.appdome.com/wp-content/uploads/2025/12/G2-Reviews_-2025-Was-a-Banner-Year-for-Appdome-170x111.png)](https://www.appdome.com/dev-sec-blog/g2-customer-reviews-2025-banner-year-appdome/)\n\n### [G2 Customer Reviews Reveal 2025 Was a Banner Year for Appdome](https://www.appdome.com/dev-sec-blog/g2-customer-reviews-2025-banner-year-appdome/)\n\nG2 customer reviews show that 2025 marked a pivotal year for Appdome. The platform gained momentum as enterprises standardized on AI-native automation for mobile security, fraud prevention, and bot defense.\n\nTom Tovar \n\nDecember 28, 2025\n\n[![Android Bootloader Integrity Explained](https://www.appdome.com/wp-content/uploads/2025/12/android-bootloader-integrity-explained-170x111.png)](https://www.appdome.com/dev-sec-blog/android-bootloader-integrity-explained/)\n\n### [Why \u2018Unlocked Bootloader\u2019 Is a Broken Android Security Model](https://www.appdome.com/dev-sec-blog/android-bootloader-integrity-explained/)\n\nAndroid bootloader integrity is often reduced to a locked or unlocked state. This article explains why that model fails and how contextual bootloader signals improve identity and session trust.\n\nLiron Dror \n\nDecember 24, 2025\n\n[Dev+Sec Blog](/dev-sec-blog)\n\n-->"
}