{
    "url": "https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/build-2secure-in-teamcity",
    "title": "Appdome | How to use Appdome Build-2Secure in TeamCity %",
    "content": "Appdome | How to use Appdome Build-2Secure in TeamCity %\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n![](https://pubads.g.doubleclick.net/activity;xsp=4798079;ord=1?)\n\n\n\n ![](https://px.ads.linkedin.com/collect/?pid=3167484&fmt=gif)\n\n\n\n\nMenu\n\n[Sign In](https://fusion.appdome.com/login)\n\n[![Appdome Logo](https://www.appdome.com/wp-content/uploads/elementor/thumbs/appdome-logo-r88bnmyou58sjra0z25z48awn6epdjpr0vb010dhxc.png \"Appdome Logo\")](/)\n\n[How to](https://www.appdome.com/how-to/) \n > \n[DevSecOps Automation in CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/)\n > \n[Mobile App Security & Anti-Fraud Inside CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/)\n > \n[How to use Appdome Build-2Secure in TeamCity](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/build-2secure-in-teamcity/)\n\n# How to use Appdome Build-2Secure in TeamCity\n\nLast updated June 10, 2024 by Appdome\n\nWith the Appdome Build-2Secure plugin, you can easily secure Android and iOS apps using JetBrains TeamCity as part of your build and deploy process. No coding or technical expertise is required. Automate the process of adding mobile app security features such as data encryption, code obfuscation, anti-tampering, anti-fraud, anti-malware, and much more to any Android or iOS app with no coding or SDK. Additionally, sign your app with your own enterprise certificate for added flexibility and control.\n\n## **Prerequisites**\n\n1. An\u00a0[Appdome SRM account](https://www.appdome.com/devsecops-release-management/)\n   * [Appdome API token](https://apis.appdome.com/docs/getting-started#getting-and-resetting-your-api-token)\n   * [Fusion-Set ID](https://apis.appdome.com/docs/getting-started#getting-a-fusion-sets-id)\n2. Team ID (optional)\n3. An administrator privileges account on a TeamCity server, with plugin installation permissions\n4. At least one TeamCity build agent\n5. A TeamCity project of a mobile application\n\n### **Step 1: Adding Appdome Build-2Secure Plugin into the TeamCity Platform**\n\nThe **Appdome Build-2Secure** step takes the unprotected application file (apk, aab, or ipa), rebuilds it, and signs it using the On-Appdome platform based on the chosen fusion set and signature method. This step can be part of an existing Build process or as a new Build where you must provide the application file as part of the input for this step.\n\nInstalling the Appdome Build-2Secure plugin on the TeamCity server:\n\n1. Go to your TeamCity web interface and log in. Usually it would be: http://<server\\_address>:8111\n2. Click **Administration** on the top right.\n3. On the left bar, click **Plugins**.  \n   ![1. Administration](https://www.appdome.com/wp-content/uploads/2023/09/1.png)\n4. Click **Browse plugins repository >> Proceed**. A new browser tab will open, displaying the JetBrains Marketplace.  \n   ![2. Browse Plugin Repository](https://www.appdome.com/wp-content/uploads/2023/09/2.png)\n5. In the search bar, type \u201cappdome.\u201d  \n   ![3. Marketplace](https://www.appdome.com/wp-content/uploads/2023/09/3.png)\n6. From the results, select **Appdome Build2Secure**. The Appdome Build2Secure plugin page will be displayed.\n7. Click **Get**.  \n   ![4 install ](https://www.appdome.com/wp-content/uploads/2023/09/4-3.png)\n8. If the server is running on your host, you can select **Install to\u2026** to install the plugin directly on your server. Then, Simply click \u201c**Install**\u201c.  \n   If the server is running on a remote host, you can download the plugin to your computer and install it by going back to your TeamCity server URL, then to the Administrator>>Plugins>>Upload plugin zip process (you will need Administrator privileges).\n9. After a successful installation, the **Appdome Build-2Secure** plugin will be displayed as part of the External plugins installed on the server.  \n   ![5.external Plugins](https://www.appdome.com/wp-content/uploads/2023/09/5png.png)\n\n### **Step 2: Defining Build Parameters**\n\n1. Login to the TeamCity server and go to **Projects**.\n2. Select your project and then click on **Build**.  \n   ![6.android Demo App](https://www.appdome.com/wp-content/uploads/2023/09/6.png)\n3. On the top right corner, click **Edit Configuration Settings**\u2026 The build screen will be displayed.  \n   ![7Edit Configuration](https://www.appdome.com/wp-content/uploads/2023/09/7.png)\n4. Under the **General Settings** section, configure the following fields:  \n   **Name**: Build name (mandatory).  \n   **Build configuration ID:** This ID is used in URLs, REST API, HTTP requests to the server, and configuration settings in the TeamCity Data Directory (mandatory).  \n   **Description:** Build description.  \n   **Publish artifacts:** Select **Only if the build status is successful**.  \n   **Artifact paths:** Copy the following text into the text box: +:artifacts/\\*  \n   ![7artifacts](https://www.appdome.com/wp-content/uploads/2023/09/8-1.png)\n5. Click **Save**.\n6. Click the **Parameters** tab on the left side of the screen.  \n   **Note**: You may need to click on **Show more >>** to reveal the Parameters tab option.![9 parameters](https://www.appdome.com/wp-content/uploads/2023/09/9.png)\n7. Define an environment variable representing the **Appdome platform API key**:Click the **+ Add new parameter** button**.** A new window with a new parameter prompt will be opened.Add the following parameter:**Name**: env.api\\_key  \n   **Kind**: Environment variable (env.)  \n   **Value**: Enter the Appdome platform API Key value**Note:** The environmental variable holding the Appdome platform API key must be named env.api\\_key.![10 .add New Parameter](https://www.appdome.com/wp-content/uploads/2023/09/10.png)\n8. Under Spec, click ****Edit\u2026****In the following window, add the following parameters:**Description**: Appdome platform API Key**Display**: Hidden**Read-only**: check**Type**: Password![11edit Parameter Specification](https://www.appdome.com/wp-content/uploads/2023/09/11.png)\n9. Click **Save.**The newly defined env.api\\_key parameter should now appear under the Environment Variables (env.) section.  \n   ![12](https://www.appdome.com/wp-content/uploads/2023/09/12.png)\n10. Repeat steps 4-8 above to define the following environmental parameters:\n    * Keystore passwords (for Android app signing)\n    * Certificate passwords (for iOS app signing)\n    * Key passwords\n    * Keystore aliases (for Android app signing)\n    * Signing fingerprints\n\n    **Notes:**\n\n    * All environmental parameter names must start with the env. Prefix (i.e., env.key\\_password).\n    * Secret values (e.g., passwords, keys, etc.) must be defined as \u201cPasswords\u201d and Displayed as \u201cHidden.\u201d Non-confidential definitions can be left as default.\n\n    When correctly defined, you should see them under the Environment Variables (env.) section.\n\n    **Note:** \u201cPassword\u201d type values will be hidden with \\*\\*\\*\\*\\*\\*, while text values will be displayed as they are.\n11. Add a new parameter for the mobile **application location**. This should point to the app apk/aab/ipa file you would like to protect with Appdome.  \n    Click the + Add new parameter button. A new window with a new parameter prompt will be opened. Add the following parameter:**Name:** env.app\\_location**Kind:** Environment variable (env.)**Value:** a URL to an external server or an environmental variable holding the app file location (could be output from a previous build step).In this example, we will represent the app location with a URL to an external server holding a .apk app.![13add New Parameter](https://www.appdome.com/wp-content/uploads/2023/09/13-1.png)\n12. Click **Save**.Now, you should see the env.app\\_location variable under the Environment Variables (env.) section.\n13. Repeat the step above to add environment variables holding locations of additional files that will be required for signing:\n\n**a. For Android apps:**\n\nOn-Appdome Signing requires the following environment variables:\n\n* Keystore file\n* Keystore password\n* Keystore Alias\n* Key password\n* Google sign fingerprint (if Google Play signing is being used)\n\nPrivate and Auto-Dev Signing requires the following environment variable:\n\n* Signing fingerprint or Google Sign fingerprint (if Google Play signing is being used)\n\nIn our Android example, we have defined the following variables:\n\n* ks\\_location \u2013 Keystore file location\n* ks\\_pass \u2013 Keystore password\n* alias \u2013 Keystore alias\n* key\\_pass \u2013 Key password\n* fp \u2013 Signing fingerprint\n\nThese variables should be defined as described in sections 8-9 above.\n\n**b. For iOS apps:**\n\nOn Appdome, Signing requires the following environment variables:\n\n* Certificate file (.p12) location\n* Certificate password\n* Provisioning profile files\n* Entitlement files\n\nPrivate and Auto-Dev Signing requires the following environment variables:\n\n* Provisioning profile files\n* Entitlement files\n\nIn our iOS example, we have defined the following variables:\n\n* env.p12 \u2013 Certificate file location\n* env.cert\\_pass \u2013 Certificate password\n* pro\\_1 **and** env.pro\\_2 \u2013 Two provisioning profile files\n* ent\\_1 **and** env.ent\\_2 \u2013 Two entitlement files\n\nThese variables should be defined as described in sections 8-9 above.\n\n### Step 3: **Adding Appdome Build-2Secure Step into the Build Process**\n\n1. Click the **Build Step** tab on the left side of the screen. Here, we will define the build steps.  \n   ![14 Build Steps](https://www.appdome.com/wp-content/uploads/2023/09/14-build-steps.png)\n2. To add a new Appdome build step, click **+Add build step**. A list of available step types will be displayed.  \n   **Note:** In our example, no steps are currently defined. However, you may already have some steps defined. It is important that the Appdome build step is added in the right place.\n3. Select **Appdome Build-2Secure.**![15 New Build Steps](https://www.appdome.com/wp-content/uploads/2023/09/15-new-build-steps.png)\n4. A new build step definition screen will be displayed.  \n   **Note:** You may have to refresh the web page to see all the fields.  \n   ![16](https://www.appdome.com/wp-content/uploads/2023/09/16-977x731.png)\n5. **Select the Platform\u2014Android or iOS.** The other input fields will be updated accordingly. We will use Android for our example.\n6. In the **App File Location** field, enter the location of the mobile app that will be built. It could be a URL to an external server or an environment variable representing the mobile app location. In our example, we will enter env.app\\_location.  \n   **Note:** This field can be populated with up to 2,000 characters. If your file location URL is longer, you should use an environment variable rather than a direct link. If you still prefer using a URL, make sure the link is fully entered and not truncated.\n7. **Firebase App ID:** The App ID appears in the Firebase project settings for the built app. This field is optional and is used to upload the code de-obfuscation map to the Firebase Crashlytics service.  \n   **Note:** To utilize Crashlytics service, the following pre-requisites must be met:\n   * Google application credentials must be defined. This can be done by defining an environmental variable named env.GOOGLE\\_APPLICATION\\_CREDENTIALS is pointing to your Google service credentials in the JSON file.\n   * The TeamCity server must have Firebase CLI installed. For details, see [Install the Firebase CLI](https://firebase.google.com/docs/cli?hl=en#install_the_firebase_cli).\n8. **Output File Name** is an optional field where you can state the name of the output app file (without file extension). If no **Output File Name** is provided the default output file name will be the original app name with \u201cAppdome\\_\u201d prefix.\n9. In the **Fusion Set** field, enter the fusion set you want to use for this build. Make sure the fusion set matches the platform you selected.\n10. Fill the **Team ID** field with your team ID, as appears in the On-Appdome platform (optional).\n11. Select **Sign Type**. Determines the signing type, which will be detailed in the next section.\n12. Check the **Secondary Output** checkbox if you are building an Android .aab-type app and wish to get a protected universal .apk file. In such case, alongside the output of the protected .aab build, there will be a universal apk file.  \n    If the **Output File Name** was provided, then the secondary output file will be the stated file name with \u201c\\_Universal.apk\u201d suffix.  \n    If no **Output File Name** was provided, the secondary output file will be the original app name with \u201c\\_Universal.apk\u201d suffix.  \n    The **Secondary Output** checkbox applies only for Android .aab type apps with On-Appdome or Private signing methods.\n13. **Build to Test** allows you to create a build suitable for testing on a mobile device cloud based on the selected cloud vendor. For production builds, select \u201cNone.\u201d\n14. Check the **Build with Logs** checkbox if you want to include diagnostics logs in your build.\n\n### Step 4: **Configuring Sign Type in the Appdome Step**\n\nThe parameters required for app signing depend on the app platform and the sign type.\n\n1. Android app with On-Appdome-Sign Type:\n\n* **Platform**: Android\n* **Sign Type**: On-Appdome-Sign\n* **Keystore File**: URL of the keystore file location or the environment variable holding it\n* **Keystore Password**: The Keystore password or the environment variable holding it\n* **Keystore Alias:** keystore alias or the environment variable holding it\n* **Key Password**: The key password or the environment variable holding it\n* **Google Sign checkbox**: if checked, the app is meant to be uploaded to Google Play.\n* **Google Play Fingerprint**: The fingerprint to be used for Google Play signing or the environment variable holding it. If Google Sign is not checked, leave it blank.\n\nBased on the example given in the previous section, the screen will be filled as follows:\n\n![17](https://www.appdome.com/wp-content/uploads/2023/09/17.png)\n\n**Note:** In some cases, the TeamCity platform may wrap the environment parameters with % signs so that they are shown like %env.alias%. You can also do the same manually, and it will\u00a0be acceptable.\n\n2. Android app with Private-Sign or Audo-Dev-Sign Type:\n\n* **Platform:** Android\n* **Sign Type:** Private-Sign or Audo-Dev-Sign\n* **Google Sign checkbox:** if checked, the app is meant to be uploaded to Google Play.\n* **Google Play Fingerprint:** The fingerprint to be used for Google Play singing or the environment variable holding it. If Google Sign is not checked, leave it blank.\n* **Fingerprint:** If Google Sign is not selected, you can use a private signature fingerprint. Enter the environment variable holding it here.\n\n![18 private sign](https://www.appdome.com/wp-content/uploads/2023/09/18.png)\n\n**Note:** In some cases, the TeamCity platform may wrap the environment parameters with % signs so that they are shown like %env.alias%. You can also do the same manually, and it will\u00a0be acceptable.\n\n3. iOS app with On-Appdome-Sign Type:\n\n* **Platform:** iOS\n* **Sign Type:** On-Appdome-Sign\n* **Provisioning Profile Files:** URL of the provisioning profile file location or the environment variable holding it. You can enter multiple environment variables of provisioning files; just separate them with commas (see example in the screenshot below)\n* **Signing Certificate File:** URL of the certificate file location or the environment variable holding it\n* **Certificate Password:** certificate file password or the environment variable holding it\n* **Entitlements Files:** URL of the entitlement file location or the environment variable holding it. You can enter multiple environment variables of entitlement files; just separate them with commas (see example in the screenshot below)\n\n![19 1](https://www.appdome.com/wp-content/uploads/2023/09/19-1-1.png)\n\n**Note:** In some cases, the TeamCity platform may wrap the environment parameters with % signs so that they are shown like %env.alias%. You can also do the same manually, and it will\u00a0be acceptable.\n\n4. iOS app with Private-Sign or Audo-Dev-Sign Type:\n\n* **Platform:** iOS\n* **Sign Type:** Private-Sign or Audo-Dev-Sign\n* **Provisioning Profile Files:** URL of the provisioning profile file location or the environment variable holding it. You can enter multiple environment variables of provisioning files; just separate them with commas (see example in the screenshot below)\n* **Entitlements Files:** URL of the entitlement file location or the environment variable holding it. You can enter multiple environment variables of entitlement files; just separate them with commas (see example in the screenshot below)\n\n![20 2](https://www.appdome.com/wp-content/uploads/2023/09/20-2-1.png)\n\n**Note:** In some cases, the TeamCity platform may wrap the environment parameters with % signs so that they are shown like %env.alias%. You can also do the same manually, and it will\u00a0be acceptable.\n\nClick **Save.**\n\nWhen done, the step will be added to your build process, as shown in the screenshot below.\n\n![23 on appdome](https://www.appdome.com/wp-content/uploads/2023/09/23.png)\n\n### Step 5: **Running the Build Process**\n\n1. After you have defined all the steps in your build process, you can run the build by clicking the **Run\u2026** button on the upper right-hand side of the screen. This will initiate the build process.\n\n![22](https://www.appdome.com/wp-content/uploads/2023/09/22.png)\n\n2. To see the build process logs, select Projects from the top menu and then click Build.\n\n![26 build](https://www.appdome.com/wp-content/uploads/2023/09/26.png)\n\n3. You will see that the build status is being updated in real-time. Clicking on the build status will provide additional details and logs.\n\n4. When the build is successfully completed, the result files will be stored in the artifacts. The build application will typically bear the prefix \u201cAppdome\\_\u201d by default (as demonstrated in the example provided below) unless a specific **Output File Name** configuration has been defined instead. The Artifacts section can be accessed by clicking on the icon on the right side of the screen.\n\nIn addition, the build app file will be represented by the environmental variable *$APPDOME\\_BUILD*, which can be referred to in the next steps. If Secondary Output was selected for the Android .aab app, then *$APPDOME\\_BUILD\\_SO* will refer to the protected universal apk file.\n\n![22.artifacts](https://www.appdome.com/wp-content/uploads/2023/09/22.Artifacts-3.png)\n\n### Related Articles:\n\n* [How to use Appdome\u2019s Validate-2Secure Plugin for Jenkins](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdome-validate-2secure-plugin-for-jenkins/)\n* [How to Secure Android & iOS Apps in Bitrise CI/CD Pipelines](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/secure-android-ios-apps-in-bitrise-ci-cd-pipelines/)\n* [How to Use Secure Android & iOS Apps in GitHub CI/CD](https://www.appdome.com/how-to/devsecops-automation-mobile-cicd/mobile-app-security-anti-fraud-cicd/use-appdomes-github-action/)\n\n### How Do I Learn More?\n\nIf you have any questions, please send them our way at [support.appdome.com](http://support.appdome.com/)\u00a0or via the chat window on the Appdome platform.\n\n### Thank you!\n\nThanks for visiting\u00a0[**Appdome**](https://www.appdome.com/)! Our mission is to secure every app on the planet by making mobile app security easy. We hope we\u2019re living up to the mission with your project.\n\nWant a Demo?\n\nMobile App Security & Anti-Fraud Inside CI/CD\n\n![](https://www.appdome.com/wp-content/uploads/2020/02/Appdome_Team_Photos_Tom_Tovar_BW.jpg)\n\nTomWe're here to help\n\n\n\n\nWe'll get back to you in 24 hours to schedule your demo.\n\n* [Home Page](https://www.appdome.com/)\n* [Dev+Sec Blog](https://www.appdome.com/dev-sec-blog/)\n* [Request A Demo](https://www.appdome.com/request-a-demo/appdome-home/)\n* [Platform](https://www.appdome.com/devsecops-tool-cicd/)\n* [Pricing](https://www.appdome.com/appdome-pricing/)\n* [About](https://www.appdome.com/about/)\n* [Patents](https://www.appdome.com/legal/patents/)\n* [Knowledge Base](https://www.appdome.com/how-to/)\n* [In The News](https://www.appdome.com/in-the-news/)\n* [Careers we\u2019re hiring!](https://www.appdome.com/about/work-at-appdome/)\n* [Terms Of Use](https://www.appdome.com/legal/terms-of-use/)\n* [Press Releases](https://www.appdome.com/press-releases/)\n* [Privacy Policy](https://www.appdome.com/legal/privacy-policy/)\n* [Contact Us](https://www.appdome.com/contact-us/)\n\n\n\n---\n\nREDWOOD CITY OFFICE\n\n* 3 Twin Dolphin Drive,   \n  Suite 375 Redwood City,   \n  CA 94065\n* Phone: [+1.650.567.6100](tel:+16505676100)   \n  Mobile: [+1.844.360.FUSE (3873)](tel:+1844360FUSE (3873))   \n  Email: [info@appdome.com](mailto:info@appdome.com)\n\nISRAEL OFFICE\n\n* 21 HaArba'a Street,\n* Phone: [+97235568332](tel:+97235568332)   \n  Email: [info@appdome.com](mailto:info@appdome.com)\n\nSearch for:\n\nFollow us\n\n\u00a92026 Appdome, Inc. All rights reserved. This Website requires the use of technical cookies and, with your consent, profiling, and third-party analytics to improve your experience.  \n If you continue to use our Website, or by clicking any items of our Website, you agree to this.\n\nWe use cookies to ensure that we give you the best experience on our website.\nIf you continue to use this site we will assume that you are happy with it.\nOk\n\n ![](https://px.ads.linkedin.com/collect/?pid=3167484&fmt=gif) \n\n## Search Appdome Solutions\n\nSearch\n\nSearch\n\n[![mobile app protection best practices](https://www.appdome.com/wp-content/uploads/2026/01/Mobile-App-Protection-Best-Practices-for-Developers-in-2026-170x111.png)](https://www.appdome.com/dev-sec-blog/mobile-app-protection-best-practices-for-developers/)\n\n### [Mobile App Protection Best Practices for Developers in 2026](https://www.appdome.com/dev-sec-blog/mobile-app-protection-best-practices-for-developers/)\n\nMobile app protection best practices for developers in 2026. Learn how to protect apps from AI malware, bots, ATO, and fraud \u2014 automated with Appdome.\n\nJan Sysmans \n\nJanuary 5, 2026\n\n[![Mobile App Attack Vectors](https://www.appdome.com/wp-content/uploads/2026/01/mobile-app-attack-vectors-170x111.png)](https://www.appdome.com/dev-sec-blog/top-mobile-app-attack-vectors/)\n\n### [Top 10 Mobile App Attack Vectors in 2026 And the Defense Architecture Required to Stop Them](https://www.appdome.com/dev-sec-blog/top-mobile-app-attack-vectors/)\n\nAI malware, deepfakes, and automated bots are the top mobile app attack vectors in 2026. Discover how to stop them with Appdome\u2019s defense architecture defense.\n\nJan Sysmans \n\nJanuary 1, 2026\n\n[![G2 Customer Reviews](https://www.appdome.com/wp-content/uploads/2025/12/G2-Reviews_-2025-Was-a-Banner-Year-for-Appdome-170x111.png)](https://www.appdome.com/dev-sec-blog/g2-customer-reviews-2025-banner-year-appdome/)\n\n### [G2 Customer Reviews Reveal 2025 Was a Banner Year for Appdome](https://www.appdome.com/dev-sec-blog/g2-customer-reviews-2025-banner-year-appdome/)\n\nG2 customer reviews show that 2025 marked a pivotal year for Appdome. The platform gained momentum as enterprises standardized on AI-native automation for mobile security, fraud prevention, and bot defense.\n\nTom Tovar \n\nDecember 28, 2025\n\n[![Android Bootloader Integrity Explained](https://www.appdome.com/wp-content/uploads/2025/12/android-bootloader-integrity-explained-170x111.png)](https://www.appdome.com/dev-sec-blog/android-bootloader-integrity-explained/)\n\n### [Why \u2018Unlocked Bootloader\u2019 Is a Broken Android Security Model](https://www.appdome.com/dev-sec-blog/android-bootloader-integrity-explained/)\n\nAndroid bootloader integrity is often reduced to a locked or unlocked state. This article explains why that model fails and how contextual bootloader signals improve identity and session trust.\n\nLiron Dror \n\nDecember 24, 2025\n\n[Dev+Sec Blog](/dev-sec-blog)\n\n-->"
}